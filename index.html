<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div class="container">
        <h2 data-locale="Mexico" data-offset="-5">
            <p></p>
            ðŸ‡²ðŸ‡½ Mexico <small>(Mexico City)</small>
        </h2>
        
        <h2 data-locale="New York" data-offset="-4">
            <p></p>
            ðŸ‡ºðŸ‡¸ New York
        </h2>
        
        <h2 data-locale="Brazil" data-offset="-3">
            <p></p>
            ðŸ‡§ðŸ‡· Brazil <small>(Brasilia)</small>
        </h2>
        
        <h2 data-locale="UK" data-offset="+1">
            <p></p>
            ðŸ‡¬ðŸ‡§ UK <small>(London)</small>
        </h2>
        
        <h2 data-locale="Singapore" data-offset="+8">
            <p></p>
            ðŸ‡¸ðŸ‡¬ Singapore
        </h2>
    </div>
    <script>
        // search all desired clocks
function searchClocks() {
	document.querySelectorAll('.container h2').forEach(item => {
		const timezone = {
			locale: item.getAttribute('data-locale'),
			offset: item.getAttribute('data-offset')
		};
		
		setInterval(() => {
			item.querySelector('p').innerHTML = calcTime(timezone);
		}, 1000);
	})
}

// get local time (browser based)
function calcTime(timezone) {
	const d = new Date(),
				utc = d.getTime() + (d.getTimezoneOffset() * 60000),
				nd = new Date(utc + (3600000 * timezone.offset));

	return nd.toLocaleString();
}

searchClocks();
    </script>
    
</body>
</html>
